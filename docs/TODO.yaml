version: 1
updated: 2025-09-21
owners:
  - team: sre-toolbox
  - ai: codex
workflow:
  cadence: "Review at the start of each Codex session and after major merges."
  notes:
    - "Mark finished items with status: done and keep a short completion summary."
    - "Document blockers directly on the task so future sessions can unblock them quickly."
areas:
  - id: apichecker-ui-improvements
    title: API Checker Toolkit UI Improvements
    summary: Improvements to the API Checker Toolkit UI for better user experience.
    tasks:
      - id: improve-design
        title: Move Response area to the right side for better visibility.
        status: done
        priority: high
        notes:
          - "Consider a two-column layout with Request on the left and Response on the right."
          - "Ensure History panel is still easily accessible. Consider a collapsible sidebar."
          - "2024-05-30: Response lives in a dedicated right column with a collapsible history panel and responsive single-column fallback."
      - id: enhance-error-messages
        title: Enhance error messages for better clarity.
        status: done
        priority: medium
        notes:
          - "2025-09-22: Added formatApiError helper with Vitest coverage so API Checker surfaces backend detail and network guidance in failure messages."
      - id: improve-navigation
        title: Improve navigation within the toolkit UI.
        status: backlog
        priority: low
      - id: add-user-guides
        title: Add user guides and tooltips for new users.
        status: backlog
        priority: low
  - id: latency-sleuth-toolkit-ui-improvements
    title: Latency Sleuth Toolkit UI Improvements
    summary: Improvements to the Latency Sleuth Toolkit UI for better user experience.
    tasks:
      - id: recent-runs-pagination
        title: Add pagination or infinite scroll to Recent Runs panel in the Job Logs tab when a template is selected.
        status: done
        priority: high
        notes:
          - "Implement pagination controls or infinite scroll to manage long lists of runs."
          - "Ensure performance remains optimal with large datasets."
          - "2025-09-21: Added client-side pagination with load-more control and hook-level tests for Job Logs."
      - id: improve-heatmap
        title: Improve heatmap visualization for better clarity.
        status: backlog
        priority: medium
        notes:
          - "Consider color schemes that enhance readability and data interpretation."
          - "Add tooltips or legends to explain heatmap data points."
          - "Use existing javascript libraries for heatmap rendering if applicable."
      - id: improve-designer-tab
        title: Improve the Designer tab for better usability.
        status: done
        priority: high
        notes:
          - "Enhance the layout and organization of elements within the Designer tab."
          - "Consider 2-column layout with probe designer on the left and template catalog on the right."
          - "Allow templates in the catalog to be filtered by tags and searched by name."
          - "Allow templates in the catalog to be edited or cloned directly from the catalog."
          - "2025-09-21: Refactored Probe Designer into a responsive two-column layout with catalog filters, inline edit, and clone actions."
      - id: improve-navigation
        title: Improve navigation within the toolkit UI.
        status: backlog
        priority: low
      - id: add-user-guides
        title: Add user guides and tooltips for new users.
        status: backlog
        priority: low
  - id: toolkit-repository
    title: Community toolkit repository
    status: backlog
    priority: high
    summary: Establish a public repository for sharing and discovering toolkits.
    tasks:
      - id: public-repo-setup
        title: Set up a public GitHub repository for community-contributed toolkits.
        status: done
        priority: high
        notes:
          - "Need dedicated repository for this"
          - "Define contribution guidelines and a review process for submissions."
          - "Expose via github pages or similar for easy browsing."
          - "Provide zip of initial repository structure witha all defined elements"
          - "Should be codex-friendly with all relevant docs and elements"
          - "2025-09-21: Bootstrapped community repo scaffold and delivered toolkit-community-repo.zip for import."
      - id: toolkit-discovery
        title: Implement a discovery mechanism within the Toolbox UI to browse and install community toolkits.
        status: done
        priority: medium
        notes:
          - "Consider a marketplace-style interface for browsing available toolkits."
          - "Allow users to search, filter, and view details about each toolkit."
          - "Implement installation and update mechanisms that integrate with existing toolbox workflows."
          - "2025-09-22: Added community catalog endpoints, Admin â†’ Toolkits discovery UI, env override, and docs for the sxmxc/ideal-octo-engine repository."
      - id: community-bundle-resolution
        title: Fix community bundle download URL resolution for repo-hosted bundles.
        status: done
        priority: high
        notes:
          - "2025-09-22: Catalog bundles served from toolkits/<slug>/bundle on https://sxmxc.github.io/ideal-octo-engine/ return HTTP 400 because resolution preserves the catalog/ prefix."
          - "Ensure installs support bundles generated at repository roots without requiring catalog manifest changes."
          - "2025-09-22: Updated resolver to treat GitHub raw manifests as catalog definitions and prefer github.io bundle URLs, with fallbacks to manifest directory."
          - "2025-09-22: Hardened bundle writes to handle cross-device rename errors in containerised deployments."
          - "2025-09-22: Added automatic `.zip` variant resolution for bundle URLs published without an extension."
          - "2025-09-22: Detect non-zip responses from bundle endpoints and continue trying fallbacks to avoid 400 errors when WSGI apps return HTML."
  - id: toolkit-updates
    title: Toolkit updates & versioning
    status: backlog
    priority: high
    summary: Manage toolkit versions and provide update notifications.
    blockers:
      - "Requires completion of the toolkit repository setup task."
    tasks:
      - id: versioning-scheme
        title: Define a versioning scheme for toolkits (e.g., semantic versioning).
        status: backlog
        priority: medium
        notes:
          - "Establish guidelines for version increments based on changes (major, minor, patch)."
          - "Document the versioning scheme in the toolkit repository."
        blockers:
          - "Requires toolkit repository setup."
      - id: update-notifications
        title: Implement a notification system within the Toolbox UI to alert users of available toolkit updates.
        status: backlog
        priority: medium
        notes:
          - "Consider in-app notifications or a dedicated updates section."
          - "Provide details about the update, including changelog and impact."
          - "Allow users to easily initiate updates from the notification."
        blockers:
          - "Requires completion of the versioning scheme task."
      - id: update-mechanism
        title: Develop a mechanism to safely update installed toolkits.
        status: backlog
        priority: medium
        notes:
          - "Ensure updates can be rolled back in case of issues."
          - "Consider version compatibility checks before applying updates."
          - "Document the update process for users."
          - "Allow upload of updated toolkit zips via the UI or API."
          - "Should validate the zip contents and version before applying."
          - "Should also support updates from the community repository."
        blockers:
          - "Requires completion of the versioning scheme and update notifications tasks."
      - id: backport-toolkit-update-mechanism
        title: Backport the update mechanism to existing installations.
        status: backlog
        priority: low
        notes:
          - "Assess the feasibility of integrating the update mechanism into current versions of the toolkits."
          - "Plan for a phased rollout to minimize disruption for existing users."
        blockers:
          - "Requires completion of the update mechanism task."
  - id: toolkit-sandbox
    title: Toolkit upload & execution
    summary: Hardening the toolkit install pipeline and pre-flight checks.
    tasks:
      - id: sandbox-build-validation
        title: Run toolkit build/test steps in an isolated workspace before activation.
        status: backlog
        priority: low
        notes:
          - "Explore disposable containers or ephemeral directories to contain untrusted archives."
          - "Capture findings in the journal and propose automation in backend/toolkit installer if feasible."
  - id: auth-hardening
    title: Authentication & secrets
    summary: Protect credentials and tighten auth flows.
    tasks:
      - id: jwt-secret-enforcement
        title: Enforce non-default JWT secrets or require asymmetric keys at startup.
        status: done
        priority: high
        notes:
          - "Ensure docker-compose and documentation guide operators toward secure secrets."
          - "2025-09-21: Added startup validation rejecting placeholder or short secrets and documented the requirement; asymmetric modes now require key pairs."
      - id: token-assertions
        title: Add token_use / typ assertions when refreshing tokens to prevent replay.
        status: backlog
        priority: medium
      - id: login-throttling
        title: Implement login throttling / lockout for the local provider and emit audit logs.
        status: backlog
        priority: medium
      - id: browser-storage-hardening
        title: Keep access tokens out of localStorage; rely on httpOnly refresh cookies or in-memory storage.
        status: backlog
        priority: medium
  - id: infra-tooling
    title: Infrastructure & tooling
    summary: Tighten local and production defaults.
    tasks:
      - id: bootstrap-stack-helper
        title: Automate docker-compose and Vault bootstrap with an idempotent helper script.
        status: done
        priority: high
        notes:
          - "2025-09-21: Added bootstrap-stack.sh to start core containers, initialise Vault once, and seed placeholder secrets without overwriting existing data."
      - id: remove-default-postgres-creds
        title: Remove default Postgres credentials from docker-compose and require overrides.
        status: done
        priority: medium
        notes:
          - "Consider interactive prompts or environment validation in tooling scripts."
          - "2025-09-21: Removing docker-compose defaults and updating docs to require operator-supplied credentials."
          - "2025-09-21: Added bootstrap preflight that rejects placeholder Postgres credentials and refreshed onboarding docs."
  - id: governance
    title: Governance & planning
    summary: Operational guardrails for community contributions and secret management.
    tasks:
      - id: toolkit-review-process
        title: Define the review/approval process for community-submitted toolkits.
        status: backlog
        priority: medium
      - id: vault-deployment-eval
        title: Evaluate containerized Vault deployment options and integrate into orchestration docs.
        status: backlog
        priority: medium
  - id: codex-automation
    title: Codex automation support
    summary: Keep Codex prompts, playbooks, and reference docs accurate.
    tasks:
      - id: codex-architecture-docs
        title: Document Toolbox architecture and schema for Codex agents.
        status: done
        priority: high
        notes:
          - "2025-09-21: Added `docs/toolbox-architecture.md` and `docs/toolbox-schema.md`; refreshed Codex prompts to reference them and removed obsolete scoring/correlation steps."
